<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel = "stylesheet" href = "../css/public.css">
<link href="https://fonts.googleapis.com/css2?family=Dongle&display=swap" rel="stylesheet">

<script>
today = new Date();

function proc1(){
	
	//태어난 날 객체 생성
	myDay = new Date("2017.12.27");
// 	myDay = new Date(1992,05,25); 이렇게 써도 됨.
	
	toTime = today.getTime(); //오늘 날짜
	myTime = myDay.getTime(); //내 생일
	
	time = toTime - myTime;	//지금까지 지난 시간 = 오늘날짜 - 내 생일
	
	alert(toTime + " " + myTime + " " + time);
	
	res = time/1000/60/60/24/365;//밀리세컨드 초 /1000/60초/60분/24시간/365일
	res1 = time/1000/60/60/24;
	
	str = "현재 날짜 : " + today.toLocaleString() + "<br>";
	str += "현재 날짜 : " + myDay.toLocaleString() + "<br>";
	str += "지금까지 : " + res.toFixed(0) + "년 사귀었군요" + "<br>";
	str += "지금까지 : " + res1.toFixed(0) + "일 사귀었군요" + "<br>";
	document.getElementById('d1').innerHTML = str;	
}

function proc2(){
	
	//오늘의 millisec
	toMilli = today.getTime();
	Milli100 = 1000*60*60*24*100;	//100일에 대한 millisec
	
	//오늘의 millisec + 100dlfdml millisec
	time = toMilli + Milli100;
	
	//Date 생성 - 오늘의 millisec + 100일의 millisec
	dDay = new Date(time);
	
	alert(dDay.toLocaleString());

	str = "현재 날짜 : " + today.toLocaleString() + "<br>";
	str += "지금으로부터 100일 : " + dDay + "<br>";
	
 	document.getElementById('d2').innerHTML = str;	
}

function proc3(){
	str = "";
 	pvalue = document.getElementById('pdate').value;
 	
	pday = new Date(pvalue);
 	
 	milli = today.getTime() - pday.getTime();
 	
	day7 = milli/1000/60/60/24;

	if(day7 > 7){
		str += "7일을 경과하여 교환 환불이 불가합니다.";
	}else {str += "교환 환불 가능";}
	
	document.getElementById('d3').innerHTML = str;
}
</script>

</head>
<body>

<pre>
getTime() : 경과시간 구하기 / millisec값을 리턴한다.

연애 시작날로부터 현재까지의 년수를 구하기.
</pre>
<input type="button" value="확인" onclick="proc1()">
<br><br>
<div id = "d1"></div>


<pre>
getTime() : 경과시간 구하기 / millisec값을 리턴한다.

오늘 사귄지 100일 후의 날짜를 얻기
</pre>
<input type="button" value="확인" onclick="proc2()">
<br><br>
<div id = "d2"></div>


<pre>
getTime() : 경과시간 구하기 / millisec값을 리턴한다.

달력에서 구입 날짜를 선택하여 오늘 까지 7일이 경과했는지 비교하는 프로그램.
경과시에는 교환-환불 불가 알럿 띄우기

1. id가 pdate인 엘리먼트의 값을 가져와 변수에 대입한다 
2. 1번의 값으로 Date객체를 생성한다 - -pday
3. 오늘의 값으로 Date객체를 생성한다 -today
4. getTime()을 이용하여 3번에서 2번을 뺀 값을 계산 – milisec값
5. 4번의 값으로 하루의 값(milisec)을 계산하여 나눈다   
      time/(1000*60*60*24)      // time에서 일을 구할때는 나누기 
6.  5번의 값이 7보다 큰지 안큰지 비교 
       7보다 크면 교환기간이 지났습니다 
         아니면  교환 가능합니다 
</pre>
<input type="date" id="pdate">
<button onclick="proc3()">검사</button>
<br><br>
<div id = "d3"></div>

</body>
</html>
